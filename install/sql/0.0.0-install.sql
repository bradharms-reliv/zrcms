CREATE TABLE zrcms_core_site_version (id INT AUTO_INCREMENT NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, themeName VARCHAR(255) NOT NULL, locale VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_site_resource (id INT AUTO_INCREMENT NOT NULL, contentVersionId INT DEFAULT NULL, published TINYINT(1) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, host VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_76D0C290CF2713FD (host), INDEX contentVersionId (contentVersionId), INDEX host (host), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_site_resource_publish_history (id INT AUTO_INCREMENT NOT NULL, contentVersionId INT DEFAULT NULL, published TINYINT(1) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, host VARCHAR(255) NOT NULL, INDEX IDX_4EAA38CD2B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_page_container_version (id INT AUTO_INCREMENT NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, title VARCHAR(255) NOT NULL, keywords VARCHAR(255) NOT NULL, blockVersions LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_page_container_resource (id INT AUTO_INCREMENT NOT NULL, contentVersionId INT DEFAULT NULL, published TINYINT(1) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, siteCmsResourceId VARCHAR(255) NOT NULL, path VARCHAR(255) NOT NULL, INDEX contentVersionId (contentVersionId), INDEX siteCmsResourceId (siteCmsResourceId), INDEX path (path), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_page_container_resource_publish_history (id INT AUTO_INCREMENT NOT NULL, contentVersionId INT DEFAULT NULL, published TINYINT(1) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, siteCmsResourceId VARCHAR(255) NOT NULL, path VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, INDEX IDX_82F84B4C2B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_container_version (id INT AUTO_INCREMENT NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, blockVersions LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_container_resource (id INT AUTO_INCREMENT NOT NULL, contentVersionId INT DEFAULT NULL, published TINYINT(1) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, siteCmsResourceId VARCHAR(255) NOT NULL, path VARCHAR(255) NOT NULL, INDEX contentVersionId (contentVersionId), INDEX siteCmsResourceId (siteCmsResourceId), INDEX path (path), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_container_resource_publish_history (id INT AUTO_INCREMENT NOT NULL, contentVersionId INT DEFAULT NULL, published TINYINT(1) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, siteCmsResourceId VARCHAR(255) NOT NULL, path VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, INDEX IDX_953E3F582B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_page_template_resource (id INT AUTO_INCREMENT NOT NULL, contentVersionId INT DEFAULT NULL, published TINYINT(1) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, siteCmsResourceId VARCHAR(255) NOT NULL, path VARCHAR(255) NOT NULL, INDEX contentVersionId (contentVersionId), INDEX siteCmsResourceId (siteCmsResourceId), INDEX path (path), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_page_template_resource_publish_history (id INT AUTO_INCREMENT NOT NULL, contentVersionId INT DEFAULT NULL, published TINYINT(1) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, siteCmsResourceId VARCHAR(255) NOT NULL, path VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, INDEX IDX_F0388D632B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_layout_resource (id INT AUTO_INCREMENT NOT NULL, contentVersionId INT DEFAULT NULL, published TINYINT(1) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, themeName VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, INDEX contentVersionId (contentVersionId), INDEX themeName (themeName), INDEX name (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_layout_resource_publish_history (id INT AUTO_INCREMENT NOT NULL, contentVersionId INT DEFAULT NULL, published TINYINT(1) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, INDEX IDX_7126F2F42B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_layout_version (id INT AUTO_INCREMENT NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, html LONGTEXT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_redirect_version (id INT AUTO_INCREMENT NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, redirectPath VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_redirect_resource (id INT AUTO_INCREMENT NOT NULL, contentVersionId INT DEFAULT NULL, published TINYINT(1) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, siteCmsResourceId VARCHAR(255) DEFAULT NULL, requestPath VARCHAR(255) NOT NULL, INDEX IDX_49AEB5392B36D621 (contentVersionId), INDEX siteCmsResourceId (siteCmsResourceId), INDEX requestPath (requestPath), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_redirect_resource_publish_history (id INT AUTO_INCREMENT NOT NULL, contentVersionId INT DEFAULT NULL, published TINYINT(1) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdDate DATETIME NOT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, siteCmsResourceId VARCHAR(255) DEFAULT NULL, requestPath VARCHAR(255) NOT NULL, INDEX IDX_44B3ABF32B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE zrcms_core_site_resource ADD CONSTRAINT FK_76D0C2902B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_site_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_site_resource_publish_history ADD CONSTRAINT FK_4EAA38CD2B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_site_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_page_container_resource ADD CONSTRAINT FK_7054FC252B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_page_container_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_page_container_resource_publish_history ADD CONSTRAINT FK_82F84B4C2B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_page_container_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_container_resource ADD CONSTRAINT FK_4D6AE3682B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_container_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_container_resource_publish_history ADD CONSTRAINT FK_953E3F582B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_container_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_page_template_resource ADD CONSTRAINT FK_B4C0E69C2B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_page_container_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_page_template_resource_publish_history ADD CONSTRAINT FK_F0388D632B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_page_container_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_layout_resource ADD CONSTRAINT FK_208895F12B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_layout_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_layout_resource_publish_history ADD CONSTRAINT FK_7126F2F42B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_layout_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_redirect_resource ADD CONSTRAINT FK_49AEB5392B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_redirect_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_redirect_resource_publish_history ADD CONSTRAINT FK_44B3ABF32B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_redirect_version (id) ON DELETE SET NULL;
