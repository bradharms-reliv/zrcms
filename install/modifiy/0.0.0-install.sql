CREATE TABLE zrcms_core_page_version (id VARCHAR(255) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, title VARCHAR(255) NOT NULL, keywords VARCHAR(255) NOT NULL, containersData LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_page_resource (id VARCHAR(255) NOT NULL, published TINYINT(1) NOT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, modifiedByUserId VARCHAR(255) NOT NULL, modifiedReason VARCHAR(255) NOT NULL, modifiedDateDate DATETIME NOT NULL, siteCmsResourceId VARCHAR(255) NOT NULL, path VARCHAR(255) NOT NULL, INDEX contentVersionId (contentVersionId), INDEX siteCmsResourceId (siteCmsResourceId), INDEX path (path), UNIQUE INDEX page_unique (siteCmsResourceId, path), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_page_resource_history (id VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) DEFAULT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, INDEX IDX_158D4BD74D52BE11 (cmsResourceId), INDEX IDX_158D4BD72B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_page_template_resource (id VARCHAR(255) NOT NULL, published TINYINT(1) NOT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, modifiedByUserId VARCHAR(255) NOT NULL, modifiedReason VARCHAR(255) NOT NULL, modifiedDateDate DATETIME NOT NULL, siteCmsResourceId VARCHAR(255) NOT NULL, path VARCHAR(255) NOT NULL, INDEX contentVersionId (contentVersionId), INDEX siteCmsResourceId (siteCmsResourceId), INDEX path (path), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_page_template_resource_history (id VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) DEFAULT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, INDEX IDX_BF0213C54D52BE11 (cmsResourceId), INDEX IDX_BF0213C52B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_page_draft_resource (id VARCHAR(255) NOT NULL, published TINYINT(1) NOT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, modifiedByUserId VARCHAR(255) NOT NULL, modifiedReason VARCHAR(255) NOT NULL, modifiedDateDate DATETIME NOT NULL, siteCmsResourceId VARCHAR(255) NOT NULL, path VARCHAR(255) NOT NULL, INDEX contentVersionId (contentVersionId), INDEX siteCmsResourceId (siteCmsResourceId), INDEX path (path), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_page_draft_resource_history (id VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) DEFAULT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, INDEX IDX_A13D6A434D52BE11 (cmsResourceId), INDEX IDX_A13D6A432B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_redirect_resource (id VARCHAR(255) NOT NULL, published TINYINT(1) NOT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, modifiedByUserId VARCHAR(255) NOT NULL, modifiedReason VARCHAR(255) NOT NULL, modifiedDateDate DATETIME NOT NULL, siteCmsResourceId VARCHAR(255) DEFAULT NULL, requestPath VARCHAR(255) NOT NULL, INDEX IDX_49AEB5392B36D621 (contentVersionId), INDEX siteCmsResourceId (siteCmsResourceId), INDEX requestPath (requestPath), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_redirect_version (id VARCHAR(255) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_redirect_resource_history (id VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) DEFAULT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, INDEX IDX_CDC8F3C14D52BE11 (cmsResourceId), INDEX IDX_CDC8F3C12B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_site_resource (id VARCHAR(255) NOT NULL, published TINYINT(1) NOT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, modifiedByUserId VARCHAR(255) NOT NULL, modifiedReason VARCHAR(255) NOT NULL, modifiedDateDate DATETIME NOT NULL, host VARCHAR(255) NOT NULL, themeName VARCHAR(255) NOT NULL, locale VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_76D0C290CF2713FD (host), INDEX contentVersionId (contentVersionId), INDEX host (host), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_site_version (id VARCHAR(255) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_site_resource_history (id VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) DEFAULT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, INDEX IDX_435CA2254D52BE11 (cmsResourceId), INDEX IDX_435CA2252B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_site_container_version (id VARCHAR(255) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, blockVersions LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_site_container_resource (id VARCHAR(255) NOT NULL, published TINYINT(1) NOT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, modifiedByUserId VARCHAR(255) NOT NULL, modifiedReason VARCHAR(255) NOT NULL, modifiedDateDate DATETIME NOT NULL, siteCmsResourceId VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, INDEX contentVersionId (contentVersionId), INDEX siteCmsResourceId (siteCmsResourceId), INDEX name (name), UNIQUE INDEX container_unique (siteCmsResourceId, name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_site_container_resource_history (id VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) DEFAULT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, INDEX IDX_27E9C69C4D52BE11 (cmsResourceId), INDEX IDX_27E9C69C2B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_layout_resource_history (id VARCHAR(255) NOT NULL, action VARCHAR(255) NOT NULL, cmsResourceId VARCHAR(255) DEFAULT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, INDEX IDX_EEE165C84D52BE11 (cmsResourceId), INDEX IDX_EEE165C82B36D621 (contentVersionId), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_layout_version (id VARCHAR(255) NOT NULL, properties LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE zrcms_core_layout_resource (id VARCHAR(255) NOT NULL, published TINYINT(1) NOT NULL, contentVersionId VARCHAR(255) DEFAULT NULL, createdByUserId VARCHAR(255) NOT NULL, createdReason VARCHAR(255) NOT NULL, createdDate DATETIME NOT NULL, modifiedByUserId VARCHAR(255) NOT NULL, modifiedReason VARCHAR(255) NOT NULL, modifiedDateDate DATETIME NOT NULL, themeName VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, html LONGTEXT NOT NULL, INDEX contentVersionId (contentVersionId), INDEX themeName (themeName), INDEX name (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE zrcms_core_page_resource ADD CONSTRAINT FK_FA027A6A2B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_page_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_page_resource_history ADD CONSTRAINT FK_158D4BD74D52BE11 FOREIGN KEY (cmsResourceId) REFERENCES zrcms_core_page_resource (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_page_resource_history ADD CONSTRAINT FK_158D4BD72B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_page_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_page_template_resource ADD CONSTRAINT FK_B4C0E69C2B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_page_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_page_template_resource_history ADD CONSTRAINT FK_BF0213C54D52BE11 FOREIGN KEY (cmsResourceId) REFERENCES zrcms_core_page_template_resource (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_page_template_resource_history ADD CONSTRAINT FK_BF0213C52B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_page_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_page_draft_resource ADD CONSTRAINT FK_B7DA306D2B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_page_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_page_draft_resource_history ADD CONSTRAINT FK_A13D6A434D52BE11 FOREIGN KEY (cmsResourceId) REFERENCES zrcms_core_page_draft_resource (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_page_draft_resource_history ADD CONSTRAINT FK_A13D6A432B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_page_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_redirect_resource ADD CONSTRAINT FK_49AEB5392B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_redirect_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_redirect_resource_history ADD CONSTRAINT FK_CDC8F3C14D52BE11 FOREIGN KEY (cmsResourceId) REFERENCES zrcms_core_redirect_resource (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_redirect_resource_history ADD CONSTRAINT FK_CDC8F3C12B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_redirect_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_site_resource ADD CONSTRAINT FK_76D0C2902B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_site_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_site_resource_history ADD CONSTRAINT FK_435CA2254D52BE11 FOREIGN KEY (cmsResourceId) REFERENCES zrcms_core_site_resource (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_site_resource_history ADD CONSTRAINT FK_435CA2252B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_site_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_site_container_resource ADD CONSTRAINT FK_8F0873172B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_site_container_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_site_container_resource_history ADD CONSTRAINT FK_27E9C69C4D52BE11 FOREIGN KEY (cmsResourceId) REFERENCES zrcms_core_site_container_resource (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_site_container_resource_history ADD CONSTRAINT FK_27E9C69C2B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_site_container_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_layout_resource_history ADD CONSTRAINT FK_EEE165C84D52BE11 FOREIGN KEY (cmsResourceId) REFERENCES zrcms_core_layout_resource (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_layout_resource_history ADD CONSTRAINT FK_EEE165C82B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_layout_version (id) ON DELETE SET NULL;
ALTER TABLE zrcms_core_layout_resource ADD CONSTRAINT FK_208895F12B36D621 FOREIGN KEY (contentVersionId) REFERENCES zrcms_core_layout_version (id) ON DELETE SET NULL;
